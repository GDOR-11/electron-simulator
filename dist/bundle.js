(()=>{"use strict";var t,e,r,_,n={236:(t,e,r)=>{let _;r.d(e,{Ay:()=>m,HK:()=>d,LB:()=>h,_$:()=>g,eB:()=>b,rE:()=>c});const n="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&n.decode();let i=null;function o(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`);return t.ptr}let s=null,a=0;const c=Object.freeze({Sphere:0,0:"Sphere"}),w="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>_.__wbg_constraint_free(t>>>0)));class g{static __wrap(t){t>>>=0;const e=Object.create(g.prototype);return e.__wbg_ptr=t,w.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,w.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_constraint_free(t)}get shape(){return _.__wbg_get_constraint_shape(this.__wbg_ptr)}set shape(t){_.__wbg_set_constraint_shape(this.__wbg_ptr,t)}constructor(t,e){const r=function(t,e){const r=e(8*t.length,8)>>>0;return(null!==s&&0!==s.byteLength||(s=new Float64Array(_.memory.buffer)),s).set(t,r/8),a=t.length,r}(e,_.__wbindgen_malloc),n=a,i=_.constraint_new(t,r,n);return this.__wbg_ptr=i>>>0,this}clone(){const t=_.constraint_clone(this.__wbg_ptr);return g.__wrap(t)}get_data(t){return _.constraint_get_data(this.__wbg_ptr,t)}apply(t){o(t,b),_.constraint_apply(this.__wbg_ptr,t.__wbg_ptr)}}const p="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>_.__wbg_pointcharge_free(t>>>0)));class h{static __wrap(t){t>>>=0;const e=Object.create(h.prototype);return e.__wbg_ptr=t,p.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,p.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_pointcharge_free(t)}get locked(){return 0!==_.__wbg_get_pointcharge_locked(this.__wbg_ptr)}set locked(t){_.__wbg_set_pointcharge_locked(this.__wbg_ptr,t)}get pos(){const t=_.__wbg_get_pointcharge_pos(this.__wbg_ptr);return b.__wrap(t)}set pos(t){o(t,b);var e=t.__destroy_into_raw();_.__wbg_set_pointcharge_pos(this.__wbg_ptr,e)}get last_pos(){const t=_.__wbg_get_pointcharge_last_pos(this.__wbg_ptr);return b.__wrap(t)}set last_pos(t){o(t,b);var e=t.__destroy_into_raw();_.__wbg_set_pointcharge_last_pos(this.__wbg_ptr,e)}get charge(){return _.__wbg_get_pointcharge_charge(this.__wbg_ptr)}set charge(t){_.__wbg_set_pointcharge_charge(this.__wbg_ptr,t)}constructor(t,e,r,n){o(e,b);var i=e.__destroy_into_raw();o(r,b);var s=r.__destroy_into_raw();const a=_.pointcharge_new(t,i,s,n);return this.__wbg_ptr=a>>>0,this}step(t,e){o(e,b);var r=e.__destroy_into_raw();_.pointcharge_step(this.__wbg_ptr,t,r)}}const l="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>_.__wbg_vec3_free(t>>>0)));class b{static __wrap(t){t>>>=0;const e=Object.create(b.prototype);return e.__wbg_ptr=t,l.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,l.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_vec3_free(t)}get x(){return _.__wbg_get_vec3_x(this.__wbg_ptr)}set x(t){_.__wbg_set_vec3_x(this.__wbg_ptr,t)}get y(){return _.__wbg_get_vec3_y(this.__wbg_ptr)}set y(t){_.__wbg_set_vec3_y(this.__wbg_ptr,t)}get z(){return _.__wbg_get_vec3_z(this.__wbg_ptr)}set z(t){_.__wbg_set_vec3_z(this.__wbg_ptr,t)}constructor(t,e,r){const n=_.vec3_new(t,e,r);return this.__wbg_ptr=n>>>0,this}normalized(){const t=_.vec3_normalized(this.__wbg_ptr);return b.__wrap(t)}sq_length(){return _.vec3_sq_length(this.__wbg_ptr)}length(){return _.vec3_length(this.__wbg_ptr)}}const u="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((t=>_.__wbg_world_free(t>>>0)));class d{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,u.unregister(this),t}free(){const t=this.__destroy_into_raw();_.__wbg_world_free(t)}constructor(t,e){o(e,g);var r=e.__destroy_into_raw();const n=_.world_new(t,r);return this.__wbg_ptr=n>>>0,this}add_charge(t){o(t,h);var e=t.__destroy_into_raw();return _.world_add_charge(this.__wbg_ptr,e)>>>0}get_charge(t){const e=_.world_get_charge(this.__wbg_ptr,t);return h.__wrap(e)}get_electric_field(t){o(t,b);var e=t.__destroy_into_raw();const r=_.world_get_electric_field(this.__wbg_ptr,e);return b.__wrap(r)}step(t,e){_.world_step(this.__wbg_ptr,t,e)}}function f(){const t={wbg:{}};return t.wbg.__wbindgen_throw=function(t,e){throw new Error((r=t,o=e,r>>>=0,n.decode((null!==i&&0!==i.byteLength||(i=new Uint8Array(_.memory.buffer)),i).subarray(r,r+o))));var r,o},t}async function y(t){if(void 0!==_)return _;void 0===t&&(t=new URL(r(516),r.b));const e=f();("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:o}=await async function(t,e){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,e)}catch(e){if("application/wasm"==t.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const r=await t.arrayBuffer();return await WebAssembly.instantiate(r,e)}{const r=await WebAssembly.instantiate(t,e);return r instanceof WebAssembly.Instance?{instance:r,module:t}:r}}(await t,e);return function(t,e){return _=t.exports,y.__wbindgen_wasm_module=e,s=null,i=null,_}(n,o)}const m=y},156:(t,e,r)=>{r.a(t,(async(t,e)=>{try{var _=r(138),n=r(236);await(0,n.Ay)();const i=document.getElementsByTagName("canvas")[0],o=i.getContext("2d");let s=window.innerWidth,a=window.innerHeight;function c(){s=window.innerWidth,a=window.innerHeight,i.width=s,i.height=a}window.addEventListener("resize",c),c();const w=Number((0,_.A)().iterations)||1,g=Number((0,_.A)().fps)||1/0,p=new n._$(n.rE.Sphere,new Float64Array([s/2,a/2,0,Math.min(s,a)/2])),h=new n.HK(9e9,p.clone()),l=.01;let b=[];window.addEventListener("mousedown",(t=>{b.push(h.add_charge(new n.LB(!1,new n.eB(t.x,t.y,0),new n.eB(t.x,t.y,0),-l)))}));for(let S=0;S<1.99999*Math.PI;S+=Math.PI/32){let A=s/2+a/2*Math.cos(S),R=a/2+a/2*Math.sin(S);b.push(h.add_charge(new n.LB(!1,new n.eB(A,R,0),new n.eB(A,R,0),-l)))}function u(){for(let t of b){let e=h.get_charge(t);o.fillStyle=e.charge>0?"red":"yellow",o.beginPath(),o.arc(e.pos.x,e.pos.y,10,0,2*Math.PI),o.fill()}}let d=Date.now(),f=0,y=d,m=!0,v=!1;function x(){if(requestAnimationFrame(x),(!m||v)&&(f+=g*(Date.now()-y)/1e3,y=Date.now(),v&&(v=!1),g==1/0))return;if(1e3*f/(Date.now()-d)>g)return;f++;let t=g==1/0?(Date.now()-y)/1e3:1/g;y=Date.now(),o.clearRect(0,0,s,a),p.shape===n.rE.Sphere&&(o.fillStyle="grey",o.beginPath(),o.arc(p.get_data(0),p.get_data(1),p.get_data(3),0,2*Math.PI),o.fill()),u(),h.step(t,w)}document.onvisibilitychange=()=>[m,v]=[!m,!m],requestAnimationFrame(x),e()}catch(z){e(z)}}),1)},138:(t,e,r)=>{r.d(e,{A:()=>n});let _=null;function n(){if(null!=_)return _;let t=location.search.substring(1),e={};for(let r of t.split("&")){let t=r.split("=");e[t[0]]=t[1]}return _=e,e}},516:(t,e,r)=>{t.exports=r.p+"ab124c92bc1b97566b7c.wasm"}},i={};function o(t){var e=i[t];if(void 0!==e)return e.exports;var r=i[t]={exports:{}};return n[t](r,r.exports,o),r.exports}o.m=n,t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",_=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},o.a=(n,i,o)=>{var s;o&&((s=[]).d=-1);var a,c,w,g=new Set,p=n.exports,h=new Promise(((t,e)=>{w=e,c=t}));h[e]=p,h[t]=t=>(s&&t(s),g.forEach(t),h.catch((t=>{}))),n.exports=h,i((n=>{var i;a=(n=>n.map((n=>{if(null!==n&&"object"==typeof n){if(n[t])return n;if(n.then){var i=[];i.d=0,n.then((t=>{o[e]=t,_(i)}),(t=>{o[r]=t,_(i)}));var o={};return o[t]=t=>t(i),o}}var s={};return s[t]=t=>{},s[e]=n,s})))(n);var o=()=>a.map((t=>{if(t[r])throw t[r];return t[e]})),c=new Promise((e=>{(i=()=>e(o)).r=0;var r=t=>t!==s&&!g.has(t)&&(g.add(t),t&&!t.d&&(i.r++,t.push(i)));a.map((e=>e[t](r)))}));return i.r?c:o()}),(t=>(t?w(h[r]=t):c(p),_(s)))),s&&s.d<0&&(s.d=0)},o.d=(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var _=r.length-1;_>-1&&(!t||!/^http(s?):/.test(t));)t=r[_--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t})(),o.b=document.baseURI||self.location.href,o(156)})();